{% extends "base.html" %}

{% block title %}Join GCN - Global Career Network{% endblock %}

{% block content %}
<section class="hero" style="padding: 2rem 0;">
    <div class="hero-content">
        <h1 class="fade-in">Join <span class="gradient-text">GCN</span></h1>
        <p class="fade-in">
            Become a member and start your journey towards global career success
        </p>
    </div>
</section>

<section class="about" style="padding: 2rem 0;">
    <div class="about-container">
        <div class="join-content" style="max-width: 800px; margin: 0 auto;">
            <div class="membership-benefits fade-in" style="background: white; border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 10px 15px -3px rgba(140, 29, 64, 0.1);">
                <h2 style="color: var(--asu-maroon); margin-bottom: 1.5rem; text-align: center;">Membership Benefits</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center; padding: 1rem;">
                        <div style="width: 3rem; height: 3rem; background: linear-gradient(135deg, var(--asu-maroon), var(--asu-gold)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-users" style="color: white;"></i>
                        </div>
                        <h3 style="color: var(--asu-maroon); margin-bottom: 0.5rem;">Networking</h3>
                        <p style="color: #6b7280; font-size: 0.875rem;">Connect with professionals and fellow students</p>
                    </div>
                    <div style="text-align: center; padding: 1rem;">
                        <div style="width: 3rem; height: 3rem; background: linear-gradient(135deg, var(--asu-maroon), var(--asu-gold)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-graduation-cap" style="color: white;"></i>
                        </div>
                        <h3 style="color: var(--asu-maroon); margin-bottom: 0.5rem;">Workshops</h3>
                        <p style="color: #6b7280; font-size: 0.875rem;">Access to exclusive career development workshops</p>
                    </div>
                    <div style="text-align: center; padding: 1rem;">
                        <div style="width: 3rem; height: 3rem; background: linear-gradient(135deg, var(--asu-maroon), var(--asu-gold)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-handshake" style="color: white;"></i>
                        </div>
                        <h3 style="color: var(--asu-maroon); margin-bottom: 0.5rem;">Mentorship</h3>
                        <p style="color: #6b7280; font-size: 0.875rem;">One-on-one mentorship opportunities</p>
                    </div>
                    <div style="text-align: center; padding: 1rem;">
                        <div style="width: 3rem; height: 3rem; background: linear-gradient(135deg, var(--asu-maroon), var(--asu-gold)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-briefcase" style="color: white;"></i>
                        </div>
                        <h3 style="color: var(--asu-maroon); margin-bottom: 0.5rem;">Opportunities</h3>
                        <p style="color: #6b7280; font-size: 0.875rem;">Exclusive job and internship opportunities</p>
                    </div>
                </div>
            </div>

            <div class="membership-form fade-in" style="background: white; border-radius: 1rem; padding: 2rem; box-shadow: 0 10px 15px -3px rgba(140, 29, 64, 0.1);">
                <h2 style="color: var(--asu-maroon); margin-bottom: 1.5rem; text-align: center;">Application Form</h2>
                <p style="text-align: center; color: #6b7280; margin-bottom: 2rem;">Fill out the form below to become a member of GCN.</p>
                
                <div class="airtable-form-container" style="position: relative; min-height: 800px;">
                    <iframe
                        src="https://airtable.com/embed/appm9wJKuFZ4ifoZ9/shr68lZjh7XMHmOu3"
                        width="100%"
                        height="800"
                        style="border: 0; border-radius: 0.5rem;"
                        frameborder="0"
                        title="Global Career Network Application Form"
                        allow="fullscreen"
                        loading="lazy"
                        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox">
                    </iframe>
                    
                    <!-- Loading fallback -->
                    <div id="form-loading" class="form-loading" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #f9fafb; display: flex; align-items: center; justify-content: center; border-radius: 0.5rem;">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="width: 4rem; height: 4rem; background: linear-gradient(135deg, var(--asu-maroon), var(--asu-gold)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                                <i class="fas fa-spinner fa-spin" style="color: white; font-size: 1.5rem;"></i>
                            </div>
                            <h3 style="color: var(--asu-maroon); margin-bottom: 0.5rem;">Loading Application Form...</h3>
                            <p style="color: #6b7280; margin-bottom: 1rem;">Please wait while we load the form.</p>
                            <a href="https://airtable.com/embed/appm9wJKuFZ4ifoZ9/shr68lZjh7XMHmOu3" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               style="display: inline-flex; align-items: center; padding: 0.75rem 1.5rem; background: var(--asu-maroon); color: white; text-decoration: none; border-radius: 0.5rem; font-weight: 600; transition: all 0.3s ease;">
                                Open Form in New Tab
                                <i class="fas fa-external-link-alt" style="margin-left: 0.5rem;"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Modern styling for the join page */
.membership-benefits {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(140, 29, 64, 0.1);
    transition: all 0.3s ease;
}

.membership-benefits:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(140, 29, 64, 0.15), 0 10px 10px -5px rgba(140, 29, 64, 0.1);
}

.membership-form {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(140, 29, 64, 0.1);
}

.airtable-form-container {
    position: relative;
    overflow: hidden;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.airtable-form-container iframe {
    transition: opacity 0.3s ease;
}

.form-loading {
    transition: opacity 0.3s ease;
}

.form-loading.hidden {
    opacity: 0;
    pointer-events: none;
}

/* Enhanced animations */
.fade-in {
    animation: fadeInUp 0.8s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive design */
@media (max-width: 768px) {
    .membership-benefits > div {
        grid-template-columns: 1fr;
    }
    
    .airtable-form-container {
        min-height: 600px;
    }
    
    .airtable-form-container iframe {
        height: 600px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const iframe = document.querySelector('.airtable-form-container iframe');
    const loadingDiv = document.getElementById('form-loading');
    
    // Hide loading after iframe loads
    iframe.addEventListener('load', function() {
        setTimeout(() => {
            loadingDiv.classList.add('hidden');
        }, 1000);
    });
    
    // Hide loading after 10 seconds as fallback
    setTimeout(() => {
        loadingDiv.classList.add('hidden');
    }, 10000);
    
    // Add smooth scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe all fade-in elements
    document.querySelectorAll('.fade-in').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
        observer.observe(el);
    });
});
</script>
{% endblock %} 